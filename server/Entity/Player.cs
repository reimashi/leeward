using System;
using System.Collections.Generic;
using Leeward.Net;

namespace Leeward.Entity
{
    internal class Player
    {
        private readonly int _id;
        
        public int Id => _id;

        private readonly string _name;

        public string Name => _name;

        private List<string> _aliases = new List<string>();

        public readonly PlayerConnection Connection;

        public Player(string name, PlayerConnection connection)
        {
            this.Connection = connection;
            _id = 1; // TODO: Autogenerated
            _name = name;
        }

        public void SetAlias(string alias)
        {
            lock (_aliases)
            {
                if (!_aliases.Contains(alias))
                    this._aliases.Add(alias); // TODO: Check user unique alias globally?
            }
        }

        public bool Is(string alias)
        {
            lock (_aliases)
            {
                return _aliases.Contains(alias);
            }
        }
    }
}